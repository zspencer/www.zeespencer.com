<!DOCTYPE html>
<html>
<head>
  <title></title>
  <link href="style.css" type="text/css" rel="stylesheet" />
  
  <link rel="canonical" href="" />
  

  <link type="text/atom+xml" rel="alternate" href="http://feeds.feedburner.com/zeespencer"/>
  <meta name="viewport" content="initial-scale=1" />
    <script type="text/javascript">
      !function(){var analytics=window.analytics=window.analytics||[];if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.0.0";
      
      analytics.load("DEDSLhOPXKFCHg4NglvHWqtQg6BgqJy2");
      

      
        analytics.page();
      
      }}();
    </script>
    <script type="text/javascript" src="js/site.js"></script>
</head>
<body>
  <div id="page">
  <header>
    <figure>
      <img src="images/zee.png" alt="Zee Spencer" />
    </figure>
    
      <nav>
  <a href="/">Explore</a>
  <a href="/newsletter.html">Subscribe to my Newsletter</a>
  <a href="/contact.html">Contact Me</a>
  <a class="twitter" href="http://twitter.com/zspencer">Twitter</a>
  <a class="github" href="http://github.com/zspencer">Github</a>
  <a class="rss" href="http://feeds.feedburner.com/zeespencer">RSS</a>
</nav>

      <h2></h2>
    

  </header>
  <main id="content">
    <h2>devenvironment</h2>
<ul>

  
  <li>Running Tests Across Multiple Ruby Versions With Rbenv And Make &ndash;
      <!DOCTYPE html>
<html>
<head>
  <title>Running Tests Across Multiple Ruby Versions With Rbenv And Make</title>
  <link href="style.css" type="text/css" rel="stylesheet" />
  
  <link rel="canonical" href="" />
  

  <link type="text/atom+xml" rel="alternate" href="http://feeds.feedburner.com/zeespencer"/>
  <meta name="viewport" content="initial-scale=1" />
    <script type="text/javascript">
      !function(){var analytics=window.analytics=window.analytics||[];if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.0.0";
      
      analytics.load("DEDSLhOPXKFCHg4NglvHWqtQg6BgqJy2");
      

      
        analytics.page();
      
      }}();
    </script>
    <script type="text/javascript" src="js/site.js"></script>
</head>
<body>
  <div id="page">
  <header>
    <figure>
      <img src="images/zee.png" alt="Zee Spencer" />
    </figure>
    
      <nav>
  <a href="/">Explore</a>
  <a href="/newsletter.html">Subscribe to my Newsletter</a>
  <a href="/contact.html">Contact Me</a>
  <a class="twitter" href="http://twitter.com/zspencer">Twitter</a>
  <a class="github" href="http://github.com/zspencer">Github</a>
  <a class="rss" href="http://feeds.feedburner.com/zeespencer">RSS</a>
</nav>

      <h2>Running Tests Across Multiple Ruby Versions With Rbenv And Make</h2>
    

  </header>
  <main id="content">
    <section id="article">
<p>When writing <a href="http://glossary.codeunion.io/gem/">gems</a>, we frequently want to
verify behavior across a variety of ruby versions. While this is quite <a href="http://docs.travis-ci.com/user/languages/ruby/#Choosing-Ruby-versions-and-implementations-to-test-against">easy
with travis
ci</a>,
running microtests before pushing shrinks the likelihood of breaking the build.</p>

<p>My objectives were to:</p>

<ul>
<li>Run tests against different ruby versions in parallel. I&#39;ve got all these
cores, why not use them?</li>
<li>Auto-run tests on file system changes.</li>
<li>Commands must be discoverable with tab-completion.</li>
<li>Adding additional versions must be relatively painless.</li>
</ul>

<p>After a bit of prototyping, I settled on:</p>

<ul>
<li>The <a href="https://github.com/sstephenson/rbenv">rbenv ruby version manager</a></li>
<li><a href="https://github.com/quackingduck/wach">Wach</a> for re-running a task on file
system change.</li>
<li><a href="https://www.gnu.org/software/make/manual/">GNU Make</a> for defining tasks.</li>
</ul>

<p>For those of you who want the code right now, grab my
<a href="https://github.com/zspencer/make-many-rubies"
id="make-many-rubies-mid">make-many-rubies</a> repo. For those
interested in the thought process, read on.</p>

<h3 id="make-and-rake-better-together">Make and Rake, Better Together.</h3>

<p>Make is a powerful build system. While Rake is great for complex tasks that
require a language with functions and lists, Make
shines at discoverability (<a href="http://bash-completion.alioth.debian.org">free
tab-completion!</a> woo!) and
cross-language support.</p>

<p>I tend to have a Makefile in every project I work on which encapsulate the primary
commands:</p>

<ul>
<li><code>make run</code>     - Runs the project</li>
<li><code>make test</code>    - Tests the project</li>
<li><code>make build</code>   - Builds the project</li>
<li><code>make release</code> - Releases the project artifact.</li>
<li><code>make deploy</code>  - Deploys the project to production.</li>
<li><code>make tbrd</code>    - Pronounced &quot;Tee-bird&quot; tests, builds, releases and deploys
                the project.</li>
</ul>

<p>These tasks allow projects to have a common interface no matter what
language, deployment strategy, or test framework we use.  Not every project has
every task of course; but the convention makes switching between different kinds
of projects in different languages a bit easier.</p>

<h3 id="read-the-source-luke">Read the Source, Luke!</h3>

<p>If you haven&#39;t already, check out the <a
href="https://github.com/zspencer/make-many-rubies"
id="make-many-rubies-bot">make-many-rubies</a> repo. The Makefile is annotated
on every single line; and the Readme provides (hopefully useful) usage
instructions.</p>

<p>Did you find this helpful? I&#39;d love to hear how you keep your code working
across multiple ruby versions or use make to create a common interface
across teams and projects!  Why not <a id="send-email" href="mailto:
zee@wecohere.com">drop me a line</a>?</p>

</section>

<hr />
<section id="post-tags">
  <p>Browse posts about:
  <ul>
  
  <li><a href="software">software</a></li>
  
  <li><a href="testing">testing</a></li>
  
  <li><a href="ruby">ruby</a></li>
  
  <li><a href="devenvironment">devenvironment</a></li>
  
  </ul></p>
</section>

<section id="newsletter-signup">
  <p>Want to get notified when I publish new articles or update old ones?
  Subscribe to my newsletter. It's a weekly-ish set of interesting links with a
  short essay on programming, design, technical leadership, or anything else
  that strikes my fancy.</p>

  <form id="subscribe-to-newsletter" action="https://tinyletter.com/zspencer" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/zspencer', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
  <p><label for="tlemail">Email address:</label>
  <input placeholder="your-email@example.com" type="text" name="email" id="tlemail" /></p>
  <input type="hidden" value="1" name="embed"/>

  <p>Not sure? <a id="newsletter-archive" href="http://tinyletter.com/zspencer/archive">Read the
    archive.</a></p>
  <input class="button" type="submit" value="Subscribe Now!" />
</form>

<script type="text/javascript">
Track.cta("#subscribe-to-newsletter", "Newsletter Subscription", {
  location: 'bottom',
  color: 'Red',
  category: 'Subscribe',
  pageSubject: 'Article'
});

Track.cta("#newsletter-archive", "Check the Newsletter Archive", {
  location: 'bottom',
  color: 'Red',
  category: 'Investigate me',
  pageSubject: 'Article'
});
</script>

</section>

  </main>
  <div class="push"></div>
  </div>
  <footer>
    <section id="footer-content">
      <nav>
  <a href="/">Explore</a>
  <a href="/newsletter.html">Subscribe to my Newsletter</a>
  <a href="/contact.html">Contact Me</a>
  <a class="twitter" href="http://twitter.com/zspencer">Twitter</a>
  <a class="github" href="http://github.com/zspencer">Github</a>
  <a class="rss" href="http://feeds.feedburner.com/zeespencer">RSS</a>
</nav>

      <p class="license">
        Copyright 2004 - 2020 Zee Spencer. Licensed under
        a <a
           rel="license"
           href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative
           Commons Attribution-NonCommercial-ShareAlike 4.0
           International License</a>.
      </p>
    </section>
  </footer>

<script type="text/javascript">

Track.cta('#make-many-rubies-mid', 'View Project', {
  color: 'Red',
  location: 'middle',
  category: 'Investigate me',
  pageSubject: "",
});

Track.cta('#make-many-rubies-bot', 'View Project', {
  color: 'Red',
  location: 'bottom',
  category: 'Investigate me',
  pageSubject: "",
});

Track.cta('#send-email', 'Email me', {
  color: 'Red',
  location: 'bottom',
  category: 'Contact',
  pageSubject: "",
});

</script>
</body>
</html>
<br />
      <a href="/running-tests-across-multiple-ruby-versions-with-rbenv-and-make">06 Jan 2015</a>
  </li>
  

  
  <li>Walking Desks - A Year in Review &ndash;
      <!DOCTYPE html>
<html>
<head>
  <title>Walking Desks - A Year in Review</title>
  <link href="style.css" type="text/css" rel="stylesheet" />
  
  <link rel="canonical" href="" />
  

  <link type="text/atom+xml" rel="alternate" href="http://feeds.feedburner.com/zeespencer"/>
  <meta name="viewport" content="initial-scale=1" />
    <script type="text/javascript">
      !function(){var analytics=window.analytics=window.analytics||[];if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.0.0";
      
      analytics.load("DEDSLhOPXKFCHg4NglvHWqtQg6BgqJy2");
      

      
        analytics.page();
      
      }}();
    </script>
    <script type="text/javascript" src="js/site.js"></script>
</head>
<body>
  <div id="page">
  <header>
    <figure>
      <img src="images/zee.png" alt="Zee Spencer" />
    </figure>
    
      <nav>
  <a href="/">Explore</a>
  <a href="/newsletter.html">Subscribe to my Newsletter</a>
  <a href="/contact.html">Contact Me</a>
  <a class="twitter" href="http://twitter.com/zspencer">Twitter</a>
  <a class="github" href="http://github.com/zspencer">Github</a>
  <a class="rss" href="http://feeds.feedburner.com/zeespencer">RSS</a>
</nav>

      <h2>Walking Desks - A Year in Review</h2>
    

  </header>
  <main id="content">
    <section id="article">
<p>For the past year or so, I&#39;ve been doing most of my computing at a walking
desk. When I tell people this, they immediately ask &quot;But how?!&quot; or confidently
declare &quot;I wouldn&#39;t be able to walk while working!&quot;</p>

<p>While I was a bit skeptical at first, I find a walking desk fits quite nicely
into my work habits. I start the day with a mile or so walk, followed by
sitting and/or standing until lunch. After lunch I sit for a while, then switch
to walking. On a good day, I walk about eight miles. On average, I tend to walk
two to four miles a day.</p>

<h3 id="how-fast-do-you-walk">How Fast Do You Walk?</h3>

<p>While working, I&#39;ve found I walk between 1.4 and 1.8 miles per hour. Any slower
or faster and I have to think too much about walking. While gaming, I can go up
to 2.2 miles per hour without my click accuracy going down significantly.</p>

<h3 id="what-does-walking-do-for-you">What Does Walking Do For You?</h3>

<p>When I am at a high energy level, I&#39;ve found that walking helps me increase
my focus. The part of my brain that wants to be distracted by email, chat or
twitter has something to focus on, putting one foot in front of the other!</p>

<p>When already fatigued, however, walking tends to fatigue me quicker. I
switch between walking and standing frequently, or decide I need a quick break
despite having gotten very little done or spending very little time focused
on the problem at hand.</p>

<h3 id="what-desk-treadmill-and-chair-do-you-have">What Desk, Treadmill, and Chair Do You Have?</h3>

<p>My setup consists of:</p>

<ul>
<li>The <a href="http://www.steelcase.com/en/products/category/seating/task/leap/pages/overview.aspx">Steelcase Leap</a> chair</li></li>
<li>The 6&#39; <a href="http://www.ergodepot.com/Jarvis_Desk_p/jrv.htm">Ergodepot Jarvis</a></li></li>
<li>The <a href="http://www.lifespanfitness.com/tr1200-dt3-under-desk-treadmill">Lifespan TR1200</a></li></li></li>
</ul>

<figure>
  <a href="images/standing-desk-with-treadmill-and-chair.jpg">
    <img alt="Standing desk with treadmill and chair"
         src="/assets/images/standing-desk-with-treadmill-and-chair.jpg" />
    <figcaption>The Jarvis, TR1200, and Leap</figcaption>
  </a>
</figure>

<p>I went with the wide desk because the company I was working for
provided two 27&quot; thunderbolt displays. A full 6&#39; wide desk area meant I could
use part of the desk for drawing or pen-and-paper note taking without feeling
cramped. The desk is also on wheels, which makes it easy to roll back and forth
as I switch between sitting and standing. This requires placing the treadmill
in the middle of the room, however so I abandoned it in my current setup.</p>

<p>The Leap is, quite frankly, an amazing chair. I was walking <em>far more</em> when
I had to choose between walking and a shitty chair. Now that I have the Leap I
sit way too often. Ah well. Lesson learned! Don&#39;t buy a nice chair if you want to walk more!</p>

<p>The TR1200 is a reasonable treadmill. While not noisy enough to bother me while listening to music, 
I tend to use <a href="http://mizage.com/shush/">Shush</a> to enable push to
talk when on calls. My MacBook Air&#39;s microphone seems to pick up a gentle
&quot;whoosh whoosh&quot; of the belt and the &quot;slap slap&quot; of my feet.</p>

<h3 id="what-would-you-change-if-you-did-it-again">What Would You Change If You Did It Again?</h3>

<p>To be honest, I&#39;m torn on this. I really like my current setup. It works
really well, and keeps me moving.</p>

<p>I&#39;m kind of tempted to try out some experiments to see if I walk more if
it&#39;s easier or harder to switch between sitting or working. If I find I walk
more when it&#39;s harder to switch, I&#39;d try two non-adjustable desks, one high for
walking (with the nice monitor), one low for sitting.</p>

<p>I do wish I&#39;d spent less on the chair. The Leap is fantastic, but my partner&#39;s
Ikea <a href="http://www.ikea.com/us/en/catalog/products/00103102/">Markus</a> is quite
comfortable and several hundred dollars cheaper.</p>

<p>There&#39;s also been some word of <a href="http://standdesk.co/products/stand-desk">much cheaper adjustable height
desks</a>. Heck, even <a href="http://www.wired.com/2014/11/ikea-bekant-desk/">Ikea is getting in
on it!</a></p>

</section>

<hr />
<section id="post-tags">
  <p>Browse posts about:
  <ul>
  
  <li><a href="devenvironment">devenvironment</a></li>
  
  </ul></p>
</section>

<section id="newsletter-signup">
  <p>Want to get notified when I publish new articles or update old ones?
  Subscribe to my newsletter. It's a weekly-ish set of interesting links with a
  short essay on programming, design, technical leadership, or anything else
  that strikes my fancy.</p>

  <form id="subscribe-to-newsletter" action="https://tinyletter.com/zspencer" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/zspencer', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
  <p><label for="tlemail">Email address:</label>
  <input placeholder="your-email@example.com" type="text" name="email" id="tlemail" /></p>
  <input type="hidden" value="1" name="embed"/>

  <p>Not sure? <a id="newsletter-archive" href="http://tinyletter.com/zspencer/archive">Read the
    archive.</a></p>
  <input class="button" type="submit" value="Subscribe Now!" />
</form>

<script type="text/javascript">
Track.cta("#subscribe-to-newsletter", "Newsletter Subscription", {
  location: 'bottom',
  color: 'Red',
  category: 'Subscribe',
  pageSubject: 'Article'
});

Track.cta("#newsletter-archive", "Check the Newsletter Archive", {
  location: 'bottom',
  color: 'Red',
  category: 'Investigate me',
  pageSubject: 'Article'
});
</script>

</section>

  </main>
  <div class="push"></div>
  </div>
  <footer>
    <section id="footer-content">
      <nav>
  <a href="/">Explore</a>
  <a href="/newsletter.html">Subscribe to my Newsletter</a>
  <a href="/contact.html">Contact Me</a>
  <a class="twitter" href="http://twitter.com/zspencer">Twitter</a>
  <a class="github" href="http://github.com/zspencer">Github</a>
  <a class="rss" href="http://feeds.feedburner.com/zeespencer">RSS</a>
</nav>

      <p class="license">
        Copyright 2004 - 2020 Zee Spencer. Licensed under
        a <a
           rel="license"
           href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative
           Commons Attribution-NonCommercial-ShareAlike 4.0
           International License</a>.
      </p>
    </section>
  </footer>

<script type="text/javascript">

</script>
</body>
</html>
<br />
      <a href="/a-year-in-review-with-a-walking-desk">30 Nov 2014</a>
  </li>
  

  
  <li>The Vim Lovers Guide to Editing Clojure &ndash;
      <!DOCTYPE html>
<html>
<head>
  <title>The Vim Lovers Guide to Editing Clojure</title>
  <link href="style.css" type="text/css" rel="stylesheet" />
  
  <link rel="canonical" href="" />
  

  <link type="text/atom+xml" rel="alternate" href="http://feeds.feedburner.com/zeespencer"/>
  <meta name="viewport" content="initial-scale=1" />
    <script type="text/javascript">
      !function(){var analytics=window.analytics=window.analytics||[];if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.0.0";
      
      analytics.load("DEDSLhOPXKFCHg4NglvHWqtQg6BgqJy2");
      

      
        analytics.page();
      
      }}();
    </script>
    <script type="text/javascript" src="js/site.js"></script>
</head>
<body>
  <div id="page">
  <header>
    <figure>
      <img src="images/zee.png" alt="Zee Spencer" />
    </figure>
    
      <nav>
  <a href="/">Explore</a>
  <a href="/newsletter.html">Subscribe to my Newsletter</a>
  <a href="/contact.html">Contact Me</a>
  <a class="twitter" href="http://twitter.com/zspencer">Twitter</a>
  <a class="github" href="http://github.com/zspencer">Github</a>
  <a class="rss" href="http://feeds.feedburner.com/zeespencer">RSS</a>
</nav>

      <h2>The Vim Lovers Guide to Editing Clojure</h2>
    

  </header>
  <main id="content">
    <section id="article">
<p>I&#39;ve recently started a Clojure gig, which has a pretty emacs-oriented language
ecosystem. Emacs uses Cider and Paredit to make it super easy to:</p>

<ol>
<li>Move parenthesis around S-Expressions (aka &#39;slurping&#39; and &#39;barfing&#39;)</li>
<li>Access a Clojure REPL</li>
<li>Surround lines, words, etc. with parenthesis, braces, brackets and quotes</li>
</ol>

<p>Unfortunately I don&#39;t really know emacs and would rather focus on learning a
language than an editor; so I set out to find vim equivalents. Wonder of
wonders, I happened upon:</p>

<ol>
<li><code>vim-fireplace</code> for dead-simple REPL functionality, jump-to-source, omni-complete, and a host of other goodies</li>
<li><code>surround.vim</code> for changing, adding and removing braces, parenthesis, etc</li>
<li><code>paredit.vim</code> for slurping and keeping parenthesis matching</li>
</ol>

<h3 id="vim-fireplace">Vim Fireplace</h3>

<p>Vim Fireplace is by none other than The Lord of Viml himself, Tim Pope. By
default it connects to the repl defined in <code>target/repl-port</code> which makes it
pretty drop-in-and-go. Some of my favorite normal mode commands:</p>

<ol>
<li><code>cpp</code> - Evaluate the s-expression and print the results</li>
<li><code>K</code>   - Print the Clojure documentation for the symbol under the cursor</li>
<li><code>cqc</code> - Open a mini-repl for executing arbitrary Clojure code</li>
<li><code>cqq</code> - Open a mini-repl, with the current S-expression pre-entered</li>
<li><code>[d</code>  - Print the Clojure source for the symbol under the cursor</li>
<li><code>[C-d</code>  - Go to the definition of the symbol under the cursor</li>
</ol>

<p>It also comes with some nice command mode helpers as well:</p>

<ol>
<li><code>:A</code> - Opens the test file for the given source file in the current buffer
(and vice versa). <code>AV</code>/<code>AS</code>/<code>AT</code> are similar but are vsplit, split, and tab
respectively.</li>
<li><code>:Apropos &lt;keyword&gt;</code> - Searches the current class path for symbols which
match the keyword</li>
<li><code>:Eval &lt;clojure code&gt;</code> - Executes arbitrary Clojure code and prints the result</li>
</ol>

<h3 id="surround-vim">Surround.vim</h3>

<p>Surround.vim (also by Tim Pope) is great for manipulating parenthesis, quotes,
or brackets around your code. While initially designed for manipulating XML
documents and swapping tags, it&#39;s definitely a handy tool for a new-found lisper.
Some normal mode commands:</p>

<ol>
<li><code>ys&lt;motion&gt;&lt;char&gt;</code> - E.g. <code>ys$&quot;</code> surrounds the current line with quotation
marks I use &quot;You&#39;re surrounded <code>motion</code> by <code>char</code>!&quot; for a mnemonic for this</li>
<li><code>cs&lt;motion&gt;&lt;current-char&gt;&lt;new-char&gt;</code> - Change Surrounding, E.g. <code>cs([</code>
changes <code>(foo) to [foo]</code></li>
<li><code>ds&lt;char&gt;</code> - Deletes the surrounding character. E.g. <code>ds(</code> would change
<code>((foo))</code> to <code>(foo)</code></li>
</ol>

<h3 id="paredit-vim">Paredit.vim</h3>

<p>Paredit.vim by Tamas Kavacs was extracted from Slimv, a much broader alternative
to vim-fireplace. Paredit.vim keeps your parenthesis  well balanced, as well as
builds in slurping and barfing for your S Expressions.</p>

<p>Paredit.vim is reasonably good, but if you use <code>\</code> for your <code>leader</code> key you&#39;ll
want to add <code>let g:paredit_leader = &#39;\&#39;</code> to your <code>.vimrc</code></p>

<p>Unfortunately I&#39;ve found it&#39;s possible to accidentally unbalance your code,
making paredit.vim start to get in the way. The best way I&#39;ve found to resolve
this is to select the offending character in visual mode and use <code>X</code> to delete
it. This is because  paredit does not seem to override <code>X</code> in visual mode.</p>

<h3 id="happy-clojurevimming">Happy ClojureVimming!</h3>

<p>Overall, I&#39;m pretty happy with this setup for now.  It gives enough
functionality for me to focus on Clojure instead of the editor. Admittedly, I&#39;ll
probably want to pick up emacs as soon as I&#39;m reasonably comfortable in clojure.</p>

</section>

<hr />
<section id="post-tags">
  <p>Browse posts about:
  <ul>
  
  <li><a href="clojure">clojure</a></li>
  
  <li><a href="devenvironment">devenvironment</a></li>
  
  <li><a href="vim">vim</a></li>
  
  <li><a href="software">software</a></li>
  
  </ul></p>
</section>

<section id="newsletter-signup">
  <p>Want to get notified when I publish new articles or update old ones?
  Subscribe to my newsletter. It's a weekly-ish set of interesting links with a
  short essay on programming, design, technical leadership, or anything else
  that strikes my fancy.</p>

  <form id="subscribe-to-newsletter" action="https://tinyletter.com/zspencer" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/zspencer', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
  <p><label for="tlemail">Email address:</label>
  <input placeholder="your-email@example.com" type="text" name="email" id="tlemail" /></p>
  <input type="hidden" value="1" name="embed"/>

  <p>Not sure? <a id="newsletter-archive" href="http://tinyletter.com/zspencer/archive">Read the
    archive.</a></p>
  <input class="button" type="submit" value="Subscribe Now!" />
</form>

<script type="text/javascript">
Track.cta("#subscribe-to-newsletter", "Newsletter Subscription", {
  location: 'bottom',
  color: 'Red',
  category: 'Subscribe',
  pageSubject: 'Article'
});

Track.cta("#newsletter-archive", "Check the Newsletter Archive", {
  location: 'bottom',
  color: 'Red',
  category: 'Investigate me',
  pageSubject: 'Article'
});
</script>

</section>

  </main>
  <div class="push"></div>
  </div>
  <footer>
    <section id="footer-content">
      <nav>
  <a href="/">Explore</a>
  <a href="/newsletter.html">Subscribe to my Newsletter</a>
  <a href="/contact.html">Contact Me</a>
  <a class="twitter" href="http://twitter.com/zspencer">Twitter</a>
  <a class="github" href="http://github.com/zspencer">Github</a>
  <a class="rss" href="http://feeds.feedburner.com/zeespencer">RSS</a>
</nav>

      <p class="license">
        Copyright 2004 - 2020 Zee Spencer. Licensed under
        a <a
           rel="license"
           href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative
           Commons Attribution-NonCommercial-ShareAlike 4.0
           International License</a>.
      </p>
    </section>
  </footer>

<script type="text/javascript">

</script>
</body>
</html>
<br />
      <a href="/the-vim-lovers-guide-to-editing-clojure">05 Dec 2013</a>
  </li>
  

  
  <li>Build a Command Line Remote Pairing Setup &ndash;
      <!DOCTYPE html>
<html>
<head>
  <title>Build a Command Line Remote Pairing Setup</title>
  <link href="style.css" type="text/css" rel="stylesheet" />
  
  <link rel="canonical" href="" />
  

  <link type="text/atom+xml" rel="alternate" href="http://feeds.feedburner.com/zeespencer"/>
  <meta name="viewport" content="initial-scale=1" />
    <script type="text/javascript">
      !function(){var analytics=window.analytics=window.analytics||[];if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.0.0";
      
      analytics.load("DEDSLhOPXKFCHg4NglvHWqtQg6BgqJy2");
      

      
        analytics.page();
      
      }}();
    </script>
    <script type="text/javascript" src="js/site.js"></script>
</head>
<body>
  <div id="page">
  <header>
    <figure>
      <img src="images/zee.png" alt="Zee Spencer" />
    </figure>
    
      <nav>
  <a href="/">Explore</a>
  <a href="/newsletter.html">Subscribe to my Newsletter</a>
  <a href="/contact.html">Contact Me</a>
  <a class="twitter" href="http://twitter.com/zspencer">Twitter</a>
  <a class="github" href="http://github.com/zspencer">Github</a>
  <a class="rss" href="http://feeds.feedburner.com/zeespencer">RSS</a>
</nav>

      <h2>Build a Command Line Remote Pairing Setup</h2>
    

  </header>
  <main id="content">
    <section id="article">
<p>Over the past couple years I&#39;ve done a bit of remote pairing. When I need a GUI
everything is pretty straightforward: <a href="http://join.me">Join.me</a> for
screen/keyboard sharing and iPad with Skype or Google Hangout for video calls.
This is pretty bandwidth intensive and can be slow, so I&#39;d rather keep as much
as I can in a terminal.</p>

<p>There&#39;s a few obstacles to that though:</p>

<ul>
<li> I travel a lot, so my network location is random and I can&#39;t change the
coffee shops firewall</li>
<li> I want to see anything my partner do</li>
<li> I want to add partners easily</li>
<li> I don&#39;t want to share any passwords.</li>
</ul>

<p>Thankfully a remote virtual machine, SSH, and tmux let me meet all these
requirements. Hooray!</p>

<h2 id="set-up-the-remote-server">Set up the remote server</h2>

<p>I use <a href="http://prgmr.com/xen/">prgmr.com</a> for my utility server provider.
They&#39;ve got great support, don&#39;t overload their servers, and they love their
customers. This is a pretty low intensity server, so a 128MB instance is
probably fine.</p>

<p>Add two user accounts. One is for you to log in to and manage the server. Don&#39;t
even think about using root! The other is for your partners to log in with. I
use the name <code>pair</code> for mine.</p>

<p>For some distributions of *nix you&#39;ll need to allow port forwarding over SSH.
To do this open up the servers sshd_config as root (typically located at
<code>/etc/ssh/sshd_config</code>), find or add the  <code>AllowTcpForwarding</code> line, set it to
<code>yes</code>, and ensure it&#39;s uncommented.</p>

<h3 id="configure-your-user">Configure your user</h3>

<p>Your user&#39;s role on this server is to allow you to use SSH to forward a port on
the server to your system. To be honest, you don&#39;t need to change anything, but
I recommend using keys to access your server instead of a password. To do that,
you&#39;ll need to create an <code>authorized_keys</code> file in your <code>~/.ssh</code> directory.
This file must <em>be only accessible to your user</em> otherwise it will not be
accepted by any sane distributions ssh server. To make it yours and yours
alone, type <code>chmod 600 ~/.ssh/authorized_keys</code> before going forward.</p>

<p>Now, append your public key to the <code>~/.ssh/authorized_keys</code> file. Github
provides an <a href="https://help.github.com/articles/generating-ssh-keys">excellent tutorial on creating ssh
keys</a> if you don&#39;t think
you have a public key.</p>

<p>From now on, typing <code>ssh your-user@your-server</code> will use key-pair
encryption to verify your identity; which is far more secure than meager
passwords. For an added security boost you may want to edit your
<code>/etc/ssh/sshd_config</code> and change <code>PasswordAuthentication</code> to <code>no</code> <em>after
you&#39;ve verified logging in without a password works.</em></p>

<h3 id="configure-the-pair-user">Configure the pair user</h3>

<p>The pair user is where the magic happens. Login to the pair user, and create an
authorized keys file by typing <code>touch ~/.ssh/authorized_keys</code> and change it&#39;s
permissions <code>chmod 600 ~/.ssh/authorized_keys</code>!</p>

<h4 id="adding-a-partners-public-key">Adding a partners public key</h4>

<p>When we append a partners public key to the authorized_keys file we want to
prefix it with the <code>command</code> ssh directive:</p>

<p><code>command=&quot;ssh &lt;my-user-name&gt;@localhost -p 1337&quot;,no-port-forwarding,no-X11-forwarding,no-agent-forwarding &lt;my-partners-public-key&gt;</code></p>

<p>This forces the incoming connection to execute an ssh command to connect to
localhost on port 1337, and once that is complete it will kill the connection.
The <code>no-(agent|port|X11)-forwarding</code> directives are another security
precaution. Now we can add anyone we want as a partner with very little fear.</p>

<p>Go ahead and add your public key as a partner for now, then from your local
machine type <code>ssh pair@your-server</code>. This should give you a message like
<code>ssh: connect to host localhost port 1337: Connection refused</code></p>

<p>This is good! It means that you successfully connected as <code>pair</code> on your server
<em>and</em> it tried to connect to ssh on port 1337! Yay!</p>

<p>All that&#39;s left to do now is to generate an ssh key for the pair user, so log
back in to the server as <code>pair</code> and follow step 3 on the aforementioned <a href="https://help.github.com/articles/generating-ssh-keys">ssh
key tutorial</a>. This is
the key we&#39;ll give access rights to our machine; using the <code>command</code> directive
to always force them into joining an existing tmux session.</p>

<h2 id="set-up-your-machine">Set up your machine</h2>

<h3 id="install-tmux">Install tmux</h3>

<p>If you&#39;re on a Mac I recommend installing tmux through
<a href="http://mxcl.github.com/homebrew/">homebrew</a>. Most Linux distributions come
with it as a package in their standard repository now a days.</p>

<h3 id="set-up-your-local-ssh-server-and-authorized_keys">Set up your local ssh server and authorized_keys</h3>

<p>If you&#39;re on a mac, you&#39;ll need to <a href="http://osxdaily.com/2011/09/30/remote-login-ssh-server-mac-os-x/">enable remote
login</a>. If
you&#39;re a Linux person make sure you have the sshd package installed and the
service running.</p>

<p>Once that&#39;s done, set up your authorized_keys for your local machine: <code>touch
~/.ssh/authorized_keys &amp;&amp; chmod 600 ~/.ssh/authorized_keys</code></p>

<p>Now take the public key you created for the pair username, and add it to the
end of your <code>~/.ssh/authorized_keys</code> file, like so:</p>

<p><code>command=&quot;tmux attach&quot;,no-port-forwarding,no-X11-forwarding,no-agent-forwarding &lt;pair-users-ssh-public-key&gt;</code></p>

<h3 id="test-it-out">Test it out</h3>

<p>From your local machine open a new terminal and type <code>ssh -R1337:localhost:22
your-user@your-server</code> . This sets up the network forwarding stuff. Yay!</p>

<p>From a second terminal, type in <code>ssh pair@your-server</code>. This should give you
at least these two lines:  <code>no sessions</code> and <code>Connection to localhost closed</code>.</p>

<p>The <code>no sessions</code> line is letting us know tmux doesn&#39;t have anything to attach
to. the <code>Connection to localhost closed</code> is letting us know that we were kicked
off the system. As we should be!</p>

<p>Now, on <em>another</em> terminal launch <code>tmux</code>, then from the second terminal try
<code>ssh pair@your-server</code> again. If all goes well, you should see the contents
of the third terminal in the second terminal, and it should redraw pretty fast.</p>

<h3 id="further-enhancements">Further enhancements</h3>

<p>This is my vanilla command line remote pairing environment. If you want more
power, there&#39;s a few things you should do:</p>

<ul>
<li>Read the <a href="http://pragprog.com/book/bhtmux/tmux">tmux book</a></li>
<li>Enhance tmux with <a href="https://github.com/zolrath/wemux">wemux</a> or <a href="https://github.com/benmills/vimux">vimux</a></li>
<li>Look into <a href="http://mosh.mit.edu/">mosh</a> as an ssh alternative. It&#39;s supposed to be great for low-bandwidth situations.</li>
</ul>

</section>

<hr />
<section id="post-tags">
  <p>Browse posts about:
  <ul>
  
  <li><a href="pairing">pairing</a></li>
  
  <li><a href="software-as-craft">software-as-craft</a></li>
  
  <li><a href="devenvironment">devenvironment</a></li>
  
  </ul></p>
</section>

<section id="newsletter-signup">
  <p>Want to get notified when I publish new articles or update old ones?
  Subscribe to my newsletter. It's a weekly-ish set of interesting links with a
  short essay on programming, design, technical leadership, or anything else
  that strikes my fancy.</p>

  <form id="subscribe-to-newsletter" action="https://tinyletter.com/zspencer" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/zspencer', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
  <p><label for="tlemail">Email address:</label>
  <input placeholder="your-email@example.com" type="text" name="email" id="tlemail" /></p>
  <input type="hidden" value="1" name="embed"/>

  <p>Not sure? <a id="newsletter-archive" href="http://tinyletter.com/zspencer/archive">Read the
    archive.</a></p>
  <input class="button" type="submit" value="Subscribe Now!" />
</form>

<script type="text/javascript">
Track.cta("#subscribe-to-newsletter", "Newsletter Subscription", {
  location: 'bottom',
  color: 'Red',
  category: 'Subscribe',
  pageSubject: 'Article'
});

Track.cta("#newsletter-archive", "Check the Newsletter Archive", {
  location: 'bottom',
  color: 'Red',
  category: 'Investigate me',
  pageSubject: 'Article'
});
</script>

</section>

  </main>
  <div class="push"></div>
  </div>
  <footer>
    <section id="footer-content">
      <nav>
  <a href="/">Explore</a>
  <a href="/newsletter.html">Subscribe to my Newsletter</a>
  <a href="/contact.html">Contact Me</a>
  <a class="twitter" href="http://twitter.com/zspencer">Twitter</a>
  <a class="github" href="http://github.com/zspencer">Github</a>
  <a class="rss" href="http://feeds.feedburner.com/zeespencer">RSS</a>
</nav>

      <p class="license">
        Copyright 2004 - 2020 Zee Spencer. Licensed under
        a <a
           rel="license"
           href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative
           Commons Attribution-NonCommercial-ShareAlike 4.0
           International License</a>.
      </p>
    </section>
  </footer>

<script type="text/javascript">

</script>
</body>
</html>
<br />
      <a href="/building-a-remote-pairing-setup">29 Jan 2013</a>
  </li>
  

</ul>

<div id="tag-cloud">
  <h3>Find something to read in the following topics:</h3>
  Jekyll::Drops::SiteDrop
</div>


  </main>
  <div class="push"></div>
  </div>
  <footer>
    <section id="footer-content">
      <nav>
  <a href="/">Explore</a>
  <a href="/newsletter.html">Subscribe to my Newsletter</a>
  <a href="/contact.html">Contact Me</a>
  <a class="twitter" href="http://twitter.com/zspencer">Twitter</a>
  <a class="github" href="http://github.com/zspencer">Github</a>
  <a class="rss" href="http://feeds.feedburner.com/zeespencer">RSS</a>
</nav>

      <p class="license">
        Copyright 2004 - 2020 Zee Spencer. Licensed under
        a <a
           rel="license"
           href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative
           Commons Attribution-NonCommercial-ShareAlike 4.0
           International License</a>.
      </p>
    </section>
  </footer>

<script type="text/javascript">

</script>
</body>
</html>

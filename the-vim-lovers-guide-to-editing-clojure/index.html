<!DOCTYPE html>
<html>
<head>
  <title>The Vim Lovers Guide to Editing Clojure</title>
  <link href="/assets/stylesheets/style.css?1578864067" type="text/css" rel="stylesheet" />
  
  <link rel="canonical" href="" />
  

  <link type="text/atom+xml" rel="alternate" href="http://feeds.feedburner.com/zeespencer"/>
  <meta name="viewport" content="initial-scale=1" />
    <script type="text/javascript">
      !function(){var analytics=window.analytics=window.analytics||[];if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.0.0";
      
      analytics.load("DEDSLhOPXKFCHg4NglvHWqtQg6BgqJy2");
      

      
        analytics.page("Article", null);
      
      }}();
    </script>
    <script type="text/javascript" src="/assets/js/site.js?1578864067"></script>
</head>
<body>
  <div id="page">
  <header>
    <figure>
      <img src="/assets/images/zee.png?1578864067" alt="Zee Spencer" />
    </figure>
    
      <nav>
  <a href="/">Explore</a>
  <a href="/newsletter.html">Subscribe to my Newsletter</a>
  <a href="/contact.html">Contact Me</a>
  <a class="twitter" href="http://twitter.com/zspencer">Twitter</a>
  <a class="github" href="http://github.com/zspencer">Github</a>
  <a class="rss" href="http://feeds.feedburner.com/zeespencer">RSS</a>
</nav>

      <h2>The Vim Lovers Guide to Editing Clojure</h2>
    

  </header>
  <main id="content">
    <section id="article">
<p>I&#39;ve recently started a Clojure gig, which has a pretty emacs-oriented language
ecosystem. Emacs uses Cider and Paredit to make it super easy to:</p>

<ol>
<li>Move parenthesis around S-Expressions (aka &#39;slurping&#39; and &#39;barfing&#39;)</li>
<li>Access a Clojure REPL</li>
<li>Surround lines, words, etc. with parenthesis, braces, brackets and quotes</li>
</ol>

<p>Unfortunately I don&#39;t really know emacs and would rather focus on learning a
language than an editor; so I set out to find vim equivalents. Wonder of
wonders, I happened upon:</p>

<ol>
<li><code>vim-fireplace</code> for dead-simple REPL functionality, jump-to-source, omni-complete, and a host of other goodies</li>
<li><code>surround.vim</code> for changing, adding and removing braces, parenthesis, etc</li>
<li><code>paredit.vim</code> for slurping and keeping parenthesis matching</li>
</ol>

<h3 id="vim-fireplace">Vim Fireplace</h3>

<p>Vim Fireplace is by none other than The Lord of Viml himself, Tim Pope. By
default it connects to the repl defined in <code>target/repl-port</code> which makes it
pretty drop-in-and-go. Some of my favorite normal mode commands:</p>

<ol>
<li><code>cpp</code> - Evaluate the s-expression and print the results</li>
<li><code>K</code>   - Print the Clojure documentation for the symbol under the cursor</li>
<li><code>cqc</code> - Open a mini-repl for executing arbitrary Clojure code</li>
<li><code>cqq</code> - Open a mini-repl, with the current S-expression pre-entered</li>
<li><code>[d</code>  - Print the Clojure source for the symbol under the cursor</li>
<li><code>[C-d</code>  - Go to the definition of the symbol under the cursor</li>
</ol>

<p>It also comes with some nice command mode helpers as well:</p>

<ol>
<li><code>:A</code> - Opens the test file for the given source file in the current buffer
(and vice versa). <code>AV</code>/<code>AS</code>/<code>AT</code> are similar but are vsplit, split, and tab
respectively.</li>
<li><code>:Apropos &lt;keyword&gt;</code> - Searches the current class path for symbols which
match the keyword</li>
<li><code>:Eval &lt;clojure code&gt;</code> - Executes arbitrary Clojure code and prints the result</li>
</ol>

<h3 id="surround-vim">Surround.vim</h3>

<p>Surround.vim (also by Tim Pope) is great for manipulating parenthesis, quotes,
or brackets around your code. While initially designed for manipulating XML
documents and swapping tags, it&#39;s definitely a handy tool for a new-found lisper.
Some normal mode commands:</p>

<ol>
<li><code>ys&lt;motion&gt;&lt;char&gt;</code> - E.g. <code>ys$&quot;</code> surrounds the current line with quotation
marks I use &quot;You&#39;re surrounded <code>motion</code> by <code>char</code>!&quot; for a mnemonic for this</li>
<li><code>cs&lt;motion&gt;&lt;current-char&gt;&lt;new-char&gt;</code> - Change Surrounding, E.g. <code>cs([</code>
changes <code>(foo) to [foo]</code></li>
<li><code>ds&lt;char&gt;</code> - Deletes the surrounding character. E.g. <code>ds(</code> would change
<code>((foo))</code> to <code>(foo)</code></li>
</ol>

<h3 id="paredit-vim">Paredit.vim</h3>

<p>Paredit.vim by Tamas Kavacs was extracted from Slimv, a much broader alternative
to vim-fireplace. Paredit.vim keeps your parenthesis  well balanced, as well as
builds in slurping and barfing for your S Expressions.</p>

<p>Paredit.vim is reasonably good, but if you use <code>\</code> for your <code>leader</code> key you&#39;ll
want to add <code>let g:paredit_leader = &#39;\&#39;</code> to your <code>.vimrc</code></p>

<p>Unfortunately I&#39;ve found it&#39;s possible to accidentally unbalance your code,
making paredit.vim start to get in the way. The best way I&#39;ve found to resolve
this is to select the offending character in visual mode and use <code>X</code> to delete
it. This is because  paredit does not seem to override <code>X</code> in visual mode.</p>

<h3 id="happy-clojurevimming">Happy ClojureVimming!</h3>

<p>Overall, I&#39;m pretty happy with this setup for now.  It gives enough
functionality for me to focus on Clojure instead of the editor. Admittedly, I&#39;ll
probably want to pick up emacs as soon as I&#39;m reasonably comfortable in clojure.</p>

</section>

<hr />
<section id="post-tags">
  <p>Browse posts about:
  <ul>
  
  <li><a href="/tags/clojure.html">clojure</a></li>
  
  <li><a href="/tags/devenvironment.html">devenvironment</a></li>
  
  <li><a href="/tags/vim.html">vim</a></li>
  
  <li><a href="/tags/software.html">software</a></li>
  
  </ul></p>
</section>

<section id="newsletter-signup">
  <p>Want to get notified when I publish new articles or update old ones?
  Subscribe to my newsletter. It's a weekly-ish set of interesting links with a
  short essay on programming, design, technical leadership, or anything else
  that strikes my fancy.</p>

  <form id="subscribe-to-newsletter" action="https://tinyletter.com/zspencer" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/zspencer', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
  <p><label for="tlemail">Email address:</label>
  <input placeholder="your-email@example.com" type="text" name="email" id="tlemail" /></p>
  <input type="hidden" value="1" name="embed"/>

  <p>Not sure? <a id="newsletter-archive" href="http://tinyletter.com/zspencer/archive">Read the
    archive.</a></p>
  <input class="button" type="submit" value="Subscribe Now!" />
</form>

<script type="text/javascript">
Track.cta("#subscribe-to-newsletter", "Newsletter Subscription", {
  location: 'bottom',
  color: 'Red',
  category: 'Subscribe',
  pageSubject: 'Article'
});

Track.cta("#newsletter-archive", "Check the Newsletter Archive", {
  location: 'bottom',
  color: 'Red',
  category: 'Investigate me',
  pageSubject: 'Article'
});
</script>

</section>

  </main>
  <div class="push"></div>
  </div>
  <footer>
    <section id="footer-content">
      <nav>
  <a href="/">Explore</a>
  <a href="/newsletter.html">Subscribe to my Newsletter</a>
  <a href="/contact.html">Contact Me</a>
  <a class="twitter" href="http://twitter.com/zspencer">Twitter</a>
  <a class="github" href="http://github.com/zspencer">Github</a>
  <a class="rss" href="http://feeds.feedburner.com/zeespencer">RSS</a>
</nav>

      <p class="license">
        Copyright 2004 - 2014 Zee Spencer. Licensed under
        a <a
           rel="license"
           href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative
           Commons Attribution-NonCommercial-ShareAlike 4.0
           International License</a>.
      </p>
    </section>
  </footer>

<script type="text/javascript">

</script>
</body>
</html>
